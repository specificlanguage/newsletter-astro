---
import { CollectionEntry, getCollection } from 'astro:content';
import BlogPost from '../../layouts/BlogPost.astro';

export const prerender = false;

	const pages = await getCollection('newsletter');
	type Props = CollectionEntry<'newsletter'>;

	const {slug} = Astro.params;
	const page = pages.find((page) => page.slug === slug);
	if (!page) {
		Astro.redirect("/404");
	}

	const { Content, headings} = await page.render();

---

<BlogPost headings={headings} {...page.data}>
	<Content/>
</BlogPost>
